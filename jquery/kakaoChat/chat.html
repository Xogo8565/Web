<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <script
            src="https://code.jquery.com/jquery-3.6.0.js"
            integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
            crossorigin="anonymous"></script>
        <style>
            * {
                box-sizing: border-box;
            }
            .chatContainer {
                width: 500px;
                height: 800px;
                border: 1px solid black;
                position: relative;
            }
            .chatLog {
                background-color: skyblue;
                width: 100%;
                height: 90%;
                overflow-y: auto;  
                display: flex;
                flex-direction: column;
                align-items: flex-end;        
            }
            .chat {
                width: 100%;
                height: 10%;
                display: flex;
            }
            .chat input {                
                height: 100%;
                flex-basis: 85%;
            }
            .chat .iconBtn {
                flex-basis: 15%;
                padding: 10px;
            }            
            #iconImg {
                width: 100%;
                height: 100%;
            }
            .newChat {                
                margin: 10px;
                padding: 10px;
                border-radius: 10px;                
                background-color: gold;     
                display: inline-block;                        
            }
            .emoji {
                width: 400px;
                height: 400px;
                position: absolute;                
                left: 80%;
                top: 75%;
                transform: translate(-80%,-75%);
                background-color: white;
                display: none;
            }
            .emojiList {
                width: 100%;
                height: 100%;
                display: grid;
                grid-template-columns: repeat(33%,3);
                grid-template-rows: repeat(33%,3);
                gap: 10px;
                border: 1px solid black;
            }
            .emojiContainer1 {
                grid-column: 1/2;
                grid-row: 1/2;
                position: relative;
            }
            .emojiContainer2 {
                grid-column: 2/3;
                grid-row: 1/2;
                position: relative;
            }
            .emojiContainer3 {
                grid-column: 3/4;
                grid-row: 1/2;
                position: relative;
            }
            .emojiContainer4 {
                grid-column: 1/2;
                grid-row: 2/3;
                position: relative;
            }
            .emojiContainer5 {
                grid-column: 2/3;
                grid-row: 2/3;
                position: relative;
            }
            .emojiContainer6 {
                grid-column: 3/4;
                grid-row: 2/3;
                position: relative;
            }
            .emojiContainer7 {
                grid-column: 1/2;
                grid-row: 3/4;
                position: relative;
            }
            .emojiContainer8 {
                grid-column: 2/3;
                grid-row: 3/4;
                position: relative;
            }
            .emojiContainer9 {
                grid-column: 3/4;
                grid-row: 3/4;
                position: relative;
            }
            .emoji div[class^="emojiContainer"] img {
                width: 100%;
                height: 100%;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%,-50%);
                cursor: pointer;
            } 
            .newChat img{
                width: 200px;
                height: 200px;
            }           
        </style>
    </head>
    <body>
        <div class="chatContainer">
            <div class="chatLog"></div>
            <div class="chat">
                <input type="text" id="chatInput" placeholder="채팅 입력">
                <div class="iconBtn"><img src="img/emoticonIcon.png" alt="" id="iconImg"></div>
                        </div>
                        <div class="emoji">
                            <div class="emojiList">
                                <div class="emojiContainer1">
                                    <img src="img/1.gif" alt="">
                                </div>
                                <div class="emojiContainer2">
                                    <img src="img/2.gif" alt="">
                                </div>
                                <div class="emojiContainer3">
                                    <img src="img/3.gif" alt="">
                                </div>
                                <div class="emojiContainer4">
                                    <img src="img/4.png" alt="">
                                </div>
                                <div class="emojiContainer5">
                                    <img src="img/5.png" alt="">
                                </div>
                                <div class="emojiContainer6">
                                    <img src="img/6.png" alt="">
                                </div>
                                <div class="emojiContainer7">
                                    <img src="img/7.png" alt="">
                                </div>
                                <div class="emojiContainer8">
                                    <img src="img/8.gif" alt="">
                                </div>
                                <div class="emojiContainer9">
                                    <img src="img/9.gif" alt="">
                                </div>
                            </div>                
                        </div>
        </div>
        <script>
            $("#chatInput").keyup(function (e) {
                if (e.keyCode === 13 && $("#chatInput").val()!=="") {
                    let chatLength = 0;
                    $(".chatLog").append("<div class='newChat'>" + $("#chatInput").val() + "</div>");               
                    $("#chatInput").val("");
                    $(".chatLog").scrollTop($(".chatLog").prop("scrollHeight"));                    
                }
            });

            $(".iconBtn").click(()=>$(".emoji").fadeToggle());

            $("div[class^='emojiContainer']").click(function(){                               
                $(".chatLog").append("<div class = 'newChat'>"+$(this)[0].innerHTML+"</div>");
                $(".chatLog").scrollTop($(".chatLog").prop("scrollHeight")); 
            })
        </script>
    </body>
</html>